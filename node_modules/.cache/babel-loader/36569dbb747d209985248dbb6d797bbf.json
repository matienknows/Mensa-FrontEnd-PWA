{"remainingRequest":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/components/MealComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/components/MealComponent.vue","mtime":1603357192483},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lmxhc3QtaW5kZXgtb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTWVhbERhdGFTZXJ2aWNlIGZyb20gIkAvc2VydmljZS9NZWFsRGF0YVNlcnZpY2UiOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsgLy9zZXQgYSBzZWxlY3Qgb24gdGFibGUgcm93IGFuZCBhZGQgdGhlIGlkIHRvIHVybAoKJChmdW5jdGlvbiAoKSB7CiAgJCgnLnRhYmxlJykub24oJ2NsaWNrJywgJ3RyJywgZnVuY3Rpb24gKCkgewogICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdGVkJykpIHsKICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKICAgIH0gZWxzZSB7CiAgICAgICQoJ3RyLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7CiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CiAgICAgIHZhciBpZCA9ICQodGhpcykuZmluZCgiLmlkIikudGV4dCgpOwogICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoJycsICcnLCAiL21lYWwvIi5jb25jYXQoaWQpKTsKICAgIH0KICB9KTsKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVhbENvbXBvbmVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lYWxzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hNZWFsOiBmdW5jdGlvbiByZWZyZXNoTWVhbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIE1lYWxEYXRhU2VydmljZS5yZXRyaWV2ZUFsbE1lYWxzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBfdGhpcy5tZWFscyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUJ5SWQ6IGZ1bmN0aW9uIGRlbGV0ZUJ5SWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7CiAgICAgIHZhciBpZCA9IGN1cnJlbnRVcmwuc3Vic3RyaW5nKGN1cnJlbnRVcmwubGFzdEluZGV4T2YoJy8nKSArIDEpOwogICAgICBjb25zb2xlLmxvZyhpZCk7CiAgICAgIE1lYWxEYXRhU2VydmljZS5kZWxldGUoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBfdGhpczIucmVmcmVzaE1lYWwoKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0VG9VcGRhdGU6IGZ1bmN0aW9uIHNlbGVjdFRvVXBkYXRlKCkgewogICAgICB2YXIgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKICAgICAgdmFyIGlkID0gY3VycmVudFVybC5zdWJzdHJpbmcoY3VycmVudFVybC5sYXN0SW5kZXhPZignLycpICsgMSk7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnTWVhbFVwZGF0ZUNvbXBvbmVudCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMucmVmcmVzaE1lYWwoKTsKICB9Cn07"},{"version":3,"sources":["MealComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,eAAA,MAAA,2BAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,MAAA,MAAA,UAAA,C,CAEA;;AACA,CAAA,CAAA,YAAA;AACA,EAAA,CAAA,CAAA,QAAA,CAAA,CAAA,EAAA,CAAA,OAAA,EAAA,IAAA,EAAA,YAAA;AACA,QAAA,CAAA,CAAA,IAAA,CAAA,CAAA,QAAA,CAAA,UAAA,CAAA,EAAA;AACA,MAAA,CAAA,CAAA,IAAA,CAAA,CAAA,WAAA,CAAA,UAAA;AACA,KAFA,MAEA;AACA,MAAA,CAAA,CAAA,aAAA,CAAA,CAAA,WAAA,CAAA,UAAA;AACA,MAAA,CAAA,CAAA,IAAA,CAAA,CAAA,QAAA,CAAA,UAAA;AACA,UAAA,EAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,KAAA,EAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,YAAA,CAAA,EAAA,EAAA,EAAA,kBAAA,EAAA;AACA;AACA,GATA;AAUA,CAXA,CAAA;AAaA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,MAAA,eAAA,CAAA,gBAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,UAAA,EACA,sBAAA;AAAA;;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,QAAA,CAAA,QAAA;AACA,UAAA,EAAA,GAAA,UAAA,CAAA,SAAA,CAAA,UAAA,CAAA,WAAA,CAAA,GAAA,IAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,MAAA,eAAA,CAAA,MAAA,CAAA,EAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OAJA;AAKA,KAlBA;AAmBA,IAAA,cAAA,EAAA,0BAAA;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,QAAA,CAAA,QAAA;AACA,UAAA,EAAA,GAAA,UAAA,CAAA,SAAA,CAAA,UAAA,CAAA,WAAA,CAAA,GAAA,IAAA,CAAA,CAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,qBAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAAA,OAAA;AACA;AAvBA,GAPA;AAgCA,EAAA,OAhCA,qBAgCA;AACA,SAAA,WAAA;AACA;AAlCA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <h3>Meal Table</h3>\n    <div class=\"container\">\n      <table class=\"table table-hover\">\n        <thead>\n        <tr>\n          <th>id</th>\n          <th>Name</th>\n          <th>Type</th>\n          <th>Type</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr class=\"mealDetails\" v-for=\"meal in meals\" v-bind:key=\"meal.id\">\n          <td class=\"id\">{{ meal.id }}</td>\n          <td>{{ meal.name }}</td>\n          <td>{{ meal.type }}</td>\n          <td>{{ meal.price }}</td>\n        </tr>\n        </tbody>\n      </table>\n      <button type=\"button\" class=\"btn btn-outline-primary\" v-on:click=\"selectToUpdate\">Update</button>\n      <button type=\"button\" class=\"btn btn-outline-danger\" v-on:click=\"deleteById\">Delete</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MealDataService from \"@/service/MealDataService\";\nimport $ from 'jquery'\nimport router from \"@/router\";\n\n//set a select on table row and add the id to url\n$(function () {\n  $('.table').on('click', 'tr', function () {\n    if ($(this).hasClass('selected')) {\n      $(this).removeClass('selected');\n    } else {\n      $('tr.selected').removeClass('selected');\n      $(this).addClass('selected')\n      let id = $(this).find(\".id\").text();\n      window.history.replaceState('', '', `/meal/${id}`);\n    }\n  })\n});\n\nexport default {\n  name: \"MealComponent\",\n  data() {\n    return {\n      meals: [],\n    };\n  },\n  methods: {\n    refreshMeal() {\n      MealDataService.retrieveAllMeals()\n          .then(response => {\n            console.log(response.data);\n            this.meals = response.data;\n          });\n    },\n    deleteById:\n        function () {\n          var currentUrl = window.location.pathname;\n          var id = currentUrl.substring(currentUrl.lastIndexOf('/') + 1);\n          console.log(id);\n          MealDataService.delete(id)\n              .then(response => {\n                    console.log(response)\n                    this.refreshMeal()\n                  })\n        },\n    selectToUpdate: function () {\n      var currentUrl = window.location.pathname;\n      var id = currentUrl.substring(currentUrl.lastIndexOf('/') + 1);\n      router.push({ name: 'MealUpdateComponent', params: { id } })\n    }\n  },\n  created() {\n    this.refreshMeal();\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.selected {\n  background-color: grey;\n  text-decoration-color: white;\n}\n</style>"],"sourceRoot":"src/components"}]}