{"remainingRequest":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/components/MealComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/components/MealComponent.vue","mtime":1605377764108},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1lYWxEYXRhU2VydmljZSBmcm9tICJAL3NlcnZpY2UvTWVhbERhdGFTZXJ2aWNlIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBTZWFyY2hCb3hDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL1NlYXJjaEJveENvbXBvbmVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVhbENvbXBvbmVudCIsCiAgY29tcG9uZW50czogewogICAgU2VhcmNoQm94Q29tcG9uZW50OiBTZWFyY2hCb3hDb21wb25lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZWFsczogW10sCiAgICAgIHNlbGVjdGVkTWVhbDogewogICAgICAgIG1lYWxJZDogJycKICAgICAgfSwKICAgICAgYWxlcnRGYWlsZWQ6ICdUaGUgcmVtb3ZhbCBmYWlsZWQuJywKICAgICAgYWxlcnRTdWNjZXM6ICdUaGUgcmVtb3ZhbCB3YXMgc3VjY2VzZnVsbHkgcHJvY2Vzc2VkLicKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoaWRlTW9kYWw6IGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHsKICAgICAgdGhpcy4kcmVmc1snZGVsZXRlLW1vZGFsJ10uaGlkZSgpOwogICAgfSwKICAgIHJlZnJlc2hNZWFsOiBmdW5jdGlvbiByZWZyZXNoTWVhbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCJjYWxsaW5nIGFsbCBtZWFscyIpOwogICAgICBNZWFsRGF0YVNlcnZpY2UucmV0cmlldmVBbGxNZWFscygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubWVhbHMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVNZWFsQnlJZDogZnVuY3Rpb24gZGVsZXRlTWVhbEJ5SWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5oaWRlTW9kYWwoKTsKICAgICAgTWVhbERhdGFTZXJ2aWNlLmRlbGV0ZU1lYWxCeUlkKHRoaXMuc2VsZWN0ZWRNZWFsLm1lYWxJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsZXJ0LWZhaWxlZCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsZXJ0LXN1Y2NlcyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoKICAgICAgICBfdGhpczIucmVmcmVzaE1lYWwoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGVydC1zdWNjZXMiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGVydC1mYWlsZWQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0VG9VcGRhdGU6IGZ1bmN0aW9uIHNlbGVjdFRvVXBkYXRlKG1lYWxJZCkgewogICAgICB2YXIgaWQgPSBtZWFsSWQ7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnTWVhbFVwZGF0ZUNvbXBvbmVudCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRNZWFsSW5mbzogZnVuY3Rpb24gbG9hZE1lYWxJbmZvKG1lYWxJZCkgewogICAgICB0aGlzLnNlbGVjdGVkTWVhbC5tZWFsSWQgPSBtZWFsSWQ7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5yZWZyZXNoTWVhbCgpOwogIH0KfTs="},{"version":3,"sources":["MealComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,OAAA,eAAA,MAAA,2BAAA;AACA,OAAA,MAAA,MAAA,UAAA;AACA,OAAA,kBAAA,MAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,kBAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA;AACA,QAAA,MAAA,EAAA;AADA,OAFA;AAKA,MAAA,WAAA,EAAA,qBALA;AAMA,MAAA,WAAA,EAAA;AANA,KAAA;AAQA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,KAAA,CAAA,cAAA,EAAA,IAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,MAAA,eAAA,CAAA,gBAAA,GACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAHA;AAIA,KAVA;AAWA,IAAA,cAXA,4BAWA;AAAA;;AACA,WAAA,SAAA;AACA,MAAA,eAAA,CAAA,cAAA,CAAA,KAAA,YAAA,CAAA,MAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,cAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,cAAA,EAAA,KAAA,CAAA,OAAA,GAAA,OAAA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,cAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,cAAA,EAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,OAXA;AAYA,KAzBA;AA0BA,IAAA,cA1BA,0BA0BA,MA1BA,EA0BA;AACA,UAAA,EAAA,GAAA,MAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,qBAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAAA,OAAA;AACA,KA7BA;AA8BA,IAAA,YA9BA,wBA8BA,MA9BA,EA8BA;AACA,WAAA,YAAA,CAAA,MAAA,GAAA,MAAA;AACA;AAhCA,GAbA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,WAAA;AACA;AAjDA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"alert alert-success hide text-center\" id=\"alert-succes\" role=\"alert\">{{ alertSucces }}</div>\n    <div class=\"alert alert-danger hide text-center\" id=\"alert-failed\" role=\"alert\">{{ alertFailed }}</div>\n    <h3>Meal Table</h3>\n    <router-link type=\"button\" class=\"btn btn-outline-warning col-lg-3 col-sm-6 add-button\" variant=\"outline-warning\"\n                 to=\"/meal/add\">\n      <img class=\"trash-can\" src=\"../../src/assets/images/plus.svg\" alt=\"trash can\">\n    </router-link>\n    <SearchBoxComponent></SearchBoxComponent>\n    <div class=\"table-responsive meal-list\">\n      <table id=\"meal-list\" class=\"table table-hover\">\n        <thead>\n        <tr>\n          <th>ID</th>\n          <th>Meal</th>\n          <th>Type</th>\n          <th>Price ($)</th>\n          <th>Actions</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr class=\"mealDetails\" v-for=\"meal in meals\" v-bind:key=\"meal.id\">\n          <td class=\"id\">{{ meal.id }}</td>\n          <td>{{ meal.name }}</td>\n          <td>{{ meal.type }}</td>\n          <td>{{ meal.price }}</td>\n          <td>\n            <div>\n              <b-button class=\"delete-button\" variant=\"outline-info\" @click=\"selectToUpdate(meal.id)\"\n                        v-b-modal.delete-modal>\n                <img src=\"../../src/assets/images/pen.svg\" alt=\"trash can\">\n              </b-button>\n              <b-button class=\"update-button\" variant=\"outline-danger\" @click=\"loadMealInfo(meal.id)\"\n                        v-b-modal.delete-modal>\n                <img src=\"../../src/assets/images/trash-can.svg\" alt=\"trash can\">\n              </b-button>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <!-- Modal -->\n    <b-modal id=\"delete-modal\" ref=\"delete-modal\" hide-footer title=\"Removal of a meal\">\n      <p class=\"my-4\">Are you want to delete the selected meal?</p>\n      <p class=\"my-4\">Warning: This action will delete all days in the meal tables, which contain this meal.</p>\n      <b-button class=\"modal-button\" variant=\"outline-danger\" block @click=\"hideModal\">Cancel</b-button>\n      <b-button class=\"modal-button\" variant=\"outline-info\" block @click=\"deleteMealById\">\n        Yes,\n        sure.\n      </b-button>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport MealDataService from \"@/service/MealDataService\";\nimport router from \"@/router\";\nimport SearchBoxComponent from \"@/components/SearchBoxComponent\";\n\nexport default {\n  name: \"MealComponent\",\n  components: {SearchBoxComponent},\n  data() {\n    return {\n      meals: [],\n      selectedMeal: {\n        mealId: '',\n      },\n      alertFailed: 'The removal failed.',\n      alertSucces: 'The removal was succesfully processed.',\n    };\n  },\n  methods: {\n    hideModal() {\n      this.$refs['delete-modal'].hide()\n    },\n    refreshMeal() {\n      console.log(\"calling all meals\")\n      MealDataService.retrieveAllMeals()\n          .then(response => {\n            this.meals = response.data;\n          });\n    },\n    deleteMealById() {\n      this.hideModal()\n      MealDataService.deleteMealById(this.selectedMeal.mealId)\n          .then(response => {\n            console.log(response)\n            document.getElementById(\"alert-failed\").style.display = \"none\"\n            document.getElementById(\"alert-succes\").style.display = \"block\"\n            this.refreshMeal()\n          })\n          .catch(error => {\n            console.log(error)\n            document.getElementById(\"alert-succes\").style.display = \"none\"\n            document.getElementById(\"alert-failed\").style.display = \"block\"\n          })\n    },\n    selectToUpdate(mealId) {\n      var id = mealId\n      router.push({name: 'MealUpdateComponent', params: {id}})\n    },\n    loadMealInfo(mealId) {\n      this.selectedMeal.mealId = mealId;\n    }\n  },\n  created() {\n    this.refreshMeal();\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.selected {\n  background-color: grey;\n  text-decoration-color: white;\n}\n\n.add-button {\n  margin: 20px 0;\n}\n\n#alert-failed {\n  margin: 30px 0px 30px 0px;\n  display: none;\n}\n\n#alert-succes {\n  margin: 30px 0px 30px 0px;\n  display: none;\n}\n\n.delete-button, .update-button {\n  margin-right: 5px;\n}\n\n</style>"],"sourceRoot":"src/components"}]}