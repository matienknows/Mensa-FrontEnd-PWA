{"remainingRequest":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/components/MealTableWeekComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/components/MealTableWeekComponent.vue","mtime":1604755836563},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1lYWxUYWJsZURhdGFTZXJ2aWNlIGZyb20gIkAvc2VydmljZS9NZWFsVGFibGVEYXRhU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVhbFRhYmxlV2Vla0NvbXBvbmVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lYWxUYWJsZXM6IHsKICAgICAgICBpZDogIiAiLAogICAgICAgIGNhbGVuZGFyV2VlazogIiIsCiAgICAgICAgbWVhbFRhYmxlV2VlazogewogICAgICAgICAgZGF5OiB7CiAgICAgICAgICAgIGlkOiAiICIsCiAgICAgICAgICAgIG5hbWU6ICIgIiwKICAgICAgICAgICAgdHlwZTogIiAiLAogICAgICAgICAgICBwcmljZTogIiAiCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICB3ZWVrTWVhbFRhYmxlczogW10sCiAgICAgIGFtb3VudFdlZWtNZWFsVGFibGVzOiAnJywKICAgICAgc2VsZWN0ZWRNZWFsVGFibGU6ICcnLAogICAgICBzZWxlY3RlZE1lYWw6IHsKICAgICAgICBtZWFsVGFibGVXZWVrSWQ6ICcnLAogICAgICAgIG1lYWxJZDogJycsCiAgICAgICAgd2Vla2RheTogJycKICAgICAgfSwKICAgICAgYWxlcnRGYWlsZWQ6ICdCZWZvcmUgeW91IGRlbGV0ZSBhIG1lYWwgeW91IGhhdmUgdG8gY2hvb3NlIHRoZSBjYWxlbmRhciB3ZWVrLicsCiAgICAgIGFsZXJ0U3VjY2VzOiAnVGhlIHJlbW92YWwgd2FzIHN1Y2Nlc2Z1bGx5IHByb2Nlc3NlZC4nCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGlkZU1vZGFsOiBmdW5jdGlvbiBoaWRlTW9kYWwoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2RlbGV0ZS1tb2RhbCddLmhpZGUoKTsKICAgIH0sCiAgICByZWZyZXNoTWVhbFRhYmxlOiBmdW5jdGlvbiByZWZyZXNoTWVhbFRhYmxlKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBNZWFsVGFibGVEYXRhU2VydmljZS5yZXRyaWV2ZU1lYWxUYWJsZUJ5SWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMubWVhbFRhYmxlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIHJldHJpZXZlV2Vla01lYWxUYWJsZXM6IGZ1bmN0aW9uIHJldHJpZXZlV2Vla01lYWxUYWJsZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgTWVhbFRhYmxlRGF0YVNlcnZpY2UucmV0cmlldmVBbGxNZWF0VGFibGVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIud2Vla01lYWxUYWJsZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMi5hbW91bnRXZWVrTWVhbFRhYmxlcyA9IF90aGlzMi53ZWVrTWVhbFRhYmxlcy5sZW5ndGggKyAxOwoKICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgic2V0QW1vdW50V2Vla01lYWxUYWJsZXMiLCB7CiAgICAgICAgICBuZXdBbW91bnQ6IF90aGlzMi5hbW91bnRXZWVrTWVhbFRhYmxlcwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVNZWFsRnJvbVdlZWtNZWFsVGFibGVzOiBmdW5jdGlvbiByZW1vdmVNZWFsRnJvbVdlZWtNZWFsVGFibGVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuaGlkZU1vZGFsKCk7CiAgICAgIE1lYWxUYWJsZURhdGFTZXJ2aWNlLmRlbGV0ZU1lYWxGcm9tVGFibGVXZWVrKHRoaXMuc2VsZWN0ZWRNZWFsLm1lYWxUYWJsZVdlZWtJZCwgdGhpcy5zZWxlY3RlZE1lYWwubWVhbElkLCB0aGlzLnNlbGVjdGVkTWVhbC53ZWVrZGF5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxlcnQtZmFpbGVkIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxlcnQtc3VjY2VzIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogICAgICAgIGlmIChfdGhpczMuc2VsZWN0ZWRNZWFsVGFibGUgIT09ICcnKSB7CiAgICAgICAgICBfdGhpczMucmVmcmVzaE1lYWxUYWJsZShfdGhpczMuc2VsZWN0ZWRNZWFsVGFibGUpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGVydC1zdWNjZXMiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGVydC1mYWlsZWQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZE1lYWxJbmZvOiBmdW5jdGlvbiBsb2FkTWVhbEluZm8oa2V5LCBtZWFsSWQpIHsKICAgICAgaWYgKGtleSA9PSAnTW9uZGF5JykgewogICAgICAgIHRoaXMuc2VsZWN0ZWRNZWFsLndlZWtkYXkgPSAwOwogICAgICB9CgogICAgICBpZiAoa2V5ID09ICdUdWVzZGF5JykgewogICAgICAgIHRoaXMuc2VsZWN0ZWRNZWFsLndlZWtkYXkgPSAxOwogICAgICB9CgogICAgICBpZiAoa2V5ID09ICdXZWRuZXNkYXknKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZE1lYWwud2Vla2RheSA9IDI7CiAgICAgIH0KCiAgICAgIGlmIChrZXkgPT0gJ1RodXJzZGF5JykgewogICAgICAgIHRoaXMuc2VsZWN0ZWRNZWFsLndlZWtkYXkgPSAzOwogICAgICB9CgogICAgICBpZiAoa2V5ID09ICdGcmlkYXknKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZE1lYWwud2Vla2RheSA9IDQ7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0ZWRNZWFsLm1lYWxJZCA9IG1lYWxJZDsKICAgICAgdGhpcy5zZWxlY3RlZE1lYWwubWVhbFRhYmxlV2Vla0lkID0gdGhpcy5zZWxlY3RlZE1lYWxUYWJsZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlZnJlc2hNZWFsVGFibGUoMSk7CiAgICB0aGlzLnJldHJpZXZlV2Vla01lYWxUYWJsZXMoKTsKICB9Cn07"},{"version":3,"sources":["MealTableWeekComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"alert alert-success hide text-center\" id=\"alert-succes\" role=\"alert\">{{ alertSucces }}</div>\n    <div class=\"alert alert-danger hide text-center\" id=\"alert-failed\" role=\"alert\">{{ alertFailed }}</div>\n    <h3>Meal Table</h3>\n    <div class=\"form-group\">\n      <select class=\"form-control\" id=\"optionMenu\" v-model=\"selectedMealTable\"\n              @change=\"refreshMealTable(selectedMealTable)\">\n        <option value=\"\" disabled selected>Select Calendar Week</option>\n        <option v-for=\"weekMealTable in weekMealTables\" v-bind:key=\"weekMealTable.id\">\n          {{ weekMealTable.id }}\n        </option>\n      </select>\n    </div>\n    <h4>Calendar Week: {{ selectedMealTable }}</h4>\n    <div class=\"table-responsive\">\n      <table class=\"table\">\n        <thead>\n        <tr>\n          <th scope=\"col\">Day</th>\n          <th scope=\"col\">ID</th>\n          <th>Meal</th>\n          <th>Type</th>\n          <th>Price ($)</th>\n          <th>Actions</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr v-for=\"(meal, key) in mealTables.mealTableWeek\" v-bind:key=\"meal.id\">\n          <td>{{ key }}</td>\n          <td>{{ meal.id }}</td>\n          <td>{{ meal.name }}</td>\n          <td>{{ meal.type }}</td>\n          <td>{{ meal.price }}</td>\n          <td>\n            <div>\n              <b-button variant=\"outline-danger\" @click=\"loadMealInfo(key, meal.id)\" v-b-modal.delete-modal>\n                <div class=\"logo\">\n                  <img src=\"../../src/assets/images/trash-can.svg\" alt=\"trash can\">\n                </div>\n              </b-button>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <router-link type=\"button\" class=\"btn btn-outline-warning add-button\" to=\"/mealtable/update\" tag=\"button\">Update\n      Meal Table\n    </router-link>\n    <router-link type=\"button\" class=\"btn btn-outline-info add-button\" to=\"/mealtable/add\" tag=\"button\">Add Meal Table\n    </router-link>\n    <router-link type=\"button\" class=\"btn btn-outline-danger add-button\" to=\"/mealtable/delete\" tag=\"button\">Delete Meal\n      Table\n    </router-link>\n    <!-- Modal -->\n    <b-modal id=\"delete-modal\" ref=\"delete-modal\" hide-footer title=\"Removal of a meal\">\n      <p class=\"my-4\">Are you want to delete the selected meal?</p>\n      <b-button class=\"modal-button\" variant=\"outline-danger\" block @click=\"hideModal\">Cancel</b-button>\n      <b-button class=\"modal-button\" variant=\"outline-info\" block @click=\"removeMealFromWeekMealTables\">Yes,\n        sure.\n      </b-button>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n\nimport MealTableDataService from \"@/service/MealTableDataService\";\n\nexport default {\n  name: \"MealTableWeekComponent\",\n  data() {\n    return {\n      mealTables: {\n        id: \" \",\n        calendarWeek: \"\",\n        mealTableWeek: {\n          day: {\n            id: \" \",\n            name: \" \",\n            type: \" \",\n            price: \" \"\n          }\n        }\n      },\n      weekMealTables: [],\n      amountWeekMealTables: '',\n      selectedMealTable: '',\n      selectedMeal: {\n        mealTableWeekId: '',\n        mealId: '',\n        weekday: '',\n      },\n      alertFailed: 'Before you delete a meal you have to choose the calendar week.',\n      alertSucces: 'The removal was succesfully processed.',\n    };\n  },\n  methods: {\n    hideModal() {\n      this.$refs['delete-modal'].hide()\n    },\n    refreshMealTable(id) {\n      MealTableDataService.retrieveMealTableById(id)\n          .then(response => {\n            this.mealTables = response.data;\n          });\n    },\n    retrieveWeekMealTables() {\n      MealTableDataService.retrieveAllMeatTables()\n          .then(response => {\n            this.weekMealTables = response.data;\n            this.amountWeekMealTables = (this.weekMealTables.length) + 1;\n            this.$store.commit(\"setAmountWeekMealTables\", {\n              newAmount: this.amountWeekMealTables,\n            });\n          });\n    },\n    removeMealFromWeekMealTables() {\n      this.hideModal()\n      MealTableDataService.deleteMealFromTableWeek(this.selectedMeal.mealTableWeekId, this.selectedMeal.mealId, this.selectedMeal.weekday)\n          .then(response => {\n            console.log(response)\n            document.getElementById(\"alert-failed\").style.display = \"none\"\n            document.getElementById(\"alert-succes\").style.display = \"block\"\n            if (this.selectedMealTable !== ''){\n              this.refreshMealTable(this.selectedMealTable);\n            }\n          })\n          .catch(error => {\n            console.log(error)\n            document.getElementById(\"alert-succes\").style.display = \"none\"\n            document.getElementById(\"alert-failed\").style.display = \"block\"\n          })\n    },\n    loadMealInfo(key, mealId) {\n      if (key == 'Monday') {\n        this.selectedMeal.weekday = 0;\n      }\n      if (key == 'Tuesday') {\n        this.selectedMeal.weekday = 1;\n      }\n      if (key == 'Wednesday') {\n        this.selectedMeal.weekday = 2;\n      }\n      if (key == 'Thursday') {\n        this.selectedMeal.weekday = 3;\n      }\n      if (key == 'Friday') {\n        this.selectedMeal.weekday = 4;\n      }\n      this.selectedMeal.mealId = mealId;\n      this.selectedMeal.mealTableWeekId = this.selectedMealTable;\n    }\n  },\n  created() {\n    this.refreshMealTable(1);\n    this.retrieveWeekMealTables();\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n#alert-failed {\n  margin: 30px 0px 30px 0px;\n  display: none;\n}\n\n#alert-succes {\n  margin: 30px 0px 30px 0px;\n  display: none;\n}\n\n.add-button {\n  margin: 30px 5px 10px 5px;\n}\n\n.modal-button {\n  margin: 15px 10px 10px 0;\n}\n</style>"],"sourceRoot":"src/components"}]}