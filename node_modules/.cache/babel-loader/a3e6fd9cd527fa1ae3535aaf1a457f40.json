{"remainingRequest":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/eslint-loader/index.js??ref--13-0!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/service/AuthenticationService.js","dependencies":[{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/service/AuthenticationService.js","mtime":1605377764116},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvTWF0aWVuL0RvY3VtZW50cy9VbmkvQmFjaGVsb3JhcmJlaXQvUHJvdG90eXBlbi9SV0EvZnJvbnRlbmQvTWVuc2EtRnJvbnRFbmQtUldBL3Z1ZS1qcy1jbGllbnQtY3J1ZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9NYXRpZW4vRG9jdW1lbnRzL1VuaS9CYWNoZWxvcmFyYmVpdC9Qcm90b3R5cGVuL1JXQS9mcm9udGVuZC9NZW5zYS1Gcm9udEVuZC1SV0EvdnVlLWpzLWNsaWVudC1jcnVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL01hdGllbi9Eb2N1bWVudHMvVW5pL0JhY2hlbG9yYXJiZWl0L1Byb3RvdHlwZW4vUldBL2Zyb250ZW5kL01lbnNhLUZyb250RW5kLVJXQS92dWUtanMtY2xpZW50LWNydWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IGh0dHAgZnJvbSAnLi4vaHR0cC1jb21tb24nOwoKdmFyIEF1dGhlbnRpY2F0aW9uU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aGVudGljYXRpb25TZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhlbnRpY2F0aW9uU2VydmljZSk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJ4Iiwgdm9pZCAwKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRoZW50aWNhdGlvblNlcnZpY2UsIFt7CiAgICBrZXk6ICJyZWdpc3RlclN1Y2Nlc2Z1bExvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclN1Y2Nlc2Z1bExvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkgewogICAgICAvL3Nlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2F1dGhlbnRpY2F0ZWRVc2VyJywgdXNlcm5hbWUpCiAgICAgIC8vdGhpcy5zZXR1cEF4aW9zSW50ZXJjZXB0b3JzKHRoaXMuY3JlYXRlQmFzaWNBdXRoVG9rZW4odXNlcm5hbWUsIHBhc3N3b3JkKSkKICAgICAgdGhpcy5zZXR1cEF4aW9zSW50ZXJjZXB0b3JzKHRoaXMuY3JlYXRlQmFzaWNBdXRoVG9rZW4odXNlcm5hbWUsIHBhc3N3b3JkKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RhcnRBdXRoZW50aWNhdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRBdXRoZW50aWNhdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHsKICAgICAgY29uc29sZS5sb2coIkF1dGhlbnRpY2F0aW9uU2VydmljZSIsIHVzZXJuYW1lLCBwYXNzd29yZCk7IC8vcmV0dXJuIGh0dHAuZ2V0KCcvYmFzaWNhdXRoJywge2hlYWRlcnM6IHthdXRob3JpemF0aW9uOiB0aGlzLmNyZWF0ZUJhc2ljQXV0aFRva2VuKHVzZXJuYW1lLCBwYXNzd29yZCl9fSk7CgogICAgICByZXR1cm4gaHR0cC5nZXQoJy9iYXNpY2F1dGgnLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5jcmVhdGVCYXNpY0F1dGhUb2tlbih1c2VybmFtZSwgcGFzc3dvcmQpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVCYXNpY0F1dGhUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQmFzaWNBdXRoVG9rZW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7CiAgICAgIGNvbnNvbGUubG9nKCJjcmVhdGVkQXV0aGVudGljYXRpb25Ub2tlbjoiLCB1c2VybmFtZSwgcGFzc3dvcmQpOwogICAgICB2YXIgdXNlclRva2VuID0gJ0Jhc2ljICcgKyB3aW5kb3cuYnRvYSh1c2VybmFtZSArICI6IiArIHBhc3N3b3JkKTsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYXV0aGVudGljYXRlZFVzZXInLCB1c2VybmFtZSk7CiAgICAgIHJldHVybiB1c2VyVG9rZW47CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhlbnRpY2F0ZWRVc2VyJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNVc2VyTG9nZ2VkSW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzVXNlckxvZ2dlZEluKCkgewogICAgICB2YXIgdXNlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2F1dGhlbnRpY2F0ZWRVc2VyJyk7CiAgICAgIGlmICh1c2VyID09PSBudWxsKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogInNldHVwQXhpb3NJbnRlcmNlcHRvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwQXhpb3NJbnRlcmNlcHRvcnModXNlclRva2VuKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBodHRwLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgaWYgKF90aGlzLmlzVXNlckxvZ2dlZEluKCkpIHsKICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSB1c2VyVG9rZW47CiAgICAgICAgICBjb25zb2xlLmxvZygiSW50ZXJjZXB0b3IgaXMgY2FsbGVkOiIsIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2F1dGhlbnRpY2F0ZWRVc2VyJykpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGNvbmZpZzsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aGVudGljYXRpb25TZXJ2aWNlOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBuZXcgQXV0aGVudGljYXRpb25TZXJ2aWNlKCk7"},{"version":3,"sources":["/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-RWA/vue-js-client-crud/src/service/AuthenticationService.js"],"names":["http","AuthenticationService","username","password","setupAxiosInterceptors","createBasicAuthToken","console","log","get","headers","authorization","userToken","window","btoa","sessionStorage","setItem","removeItem","user","getItem","interceptors","request","use","config","isUserLoggedIn","Authorization"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,gBAAjB;;IAGMC,qB;;;;;;;;;2CACqBC,Q,EAAUC,Q,EAAU;AACvC;AACA;AACA,WAAKC,sBAAL,CAA4B,KAAKC,oBAAL,CAA0BH,QAA1B,EAAoCC,QAApC,CAA5B;AACH;;;wCAEmBD,Q,EAAUC,Q,EAAU;AACpCG,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCL,QAArC,EAA+CC,QAA/C,EADoC,CAEpC;;AACA,aAAOH,IAAI,CAACQ,GAAL,CAAS,YAAT,EAAuB;AAACC,QAAAA,OAAO,EAAE;AAACC,UAAAA,aAAa,EAAE,KAAKL,oBAAL,CAA0BH,QAA1B,EAAoCC,QAApC;AAAhB;AAAV,OAAvB,CAAP;AAEH;;;yCAEoBD,Q,EAAUC,Q,EAAU;AACrCG,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CL,QAA3C,EAAqDC,QAArD;AACA,UAAIQ,SAAS,GAAG,WAAYC,MAAM,CAACC,IAAP,CAAYX,QAAQ,GAAG,GAAX,GAAiBC,QAA7B,CAA5B;AACAW,MAAAA,cAAc,CAACC,OAAf,CAAuB,mBAAvB,EAA4Cb,QAA5C;AACA,aAAOS,SAAP;AACH;;;6BAEQ;AACLG,MAAAA,cAAc,CAACE,UAAf,CAA0B,mBAA1B;AACH;;;qCAEgB;AACb,UAAIC,IAAI,GAAGH,cAAc,CAACI,OAAf,CAAuB,mBAAvB,CAAX;AACA,UAAID,IAAI,KAAK,IAAb,EAAmB,OAAO,KAAP;AACnB,aAAO,IAAP;AACH;;;2CAEsBN,S,EAAW;AAAA;;AAC9BX,MAAAA,IAAI,CAACmB,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CACI,UAACC,MAAD,EAAY;AACR,YAAI,KAAI,CAACC,cAAL,EAAJ,EAA2B;AACvBD,UAAAA,MAAM,CAACb,OAAP,CAAee,aAAf,GAA+Bb,SAA/B;AACAL,UAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCO,cAAc,CAACI,OAAf,CAAuB,mBAAvB,CAAtC;AACH;;AACD,eAAOI,MAAP;AACH,OAPL;AASH;;;;;;AAGL,eAAe,IAAIrB,qBAAJ,EAAf","sourcesContent":["import http from '../http-common'\n\n\nclass AuthenticationService {\n    registerSuccesfulLogin(username, password) {\n        //sessionStorage.setItem('authenticatedUser', username)\n        //this.setupAxiosInterceptors(this.createBasicAuthToken(username, password))\n        this.setupAxiosInterceptors(this.createBasicAuthToken(username, password))\n    }\nx\n    startAuthentication(username, password) {\n        console.log(\"AuthenticationService\", username, password)\n        //return http.get('/basicauth', {headers: {authorization: this.createBasicAuthToken(username, password)}});\n        return http.get('/basicauth', {headers: {authorization: this.createBasicAuthToken(username, password)}});\n\n    }\n\n    createBasicAuthToken(username, password) {\n        console.log(\"createdAuthenticationToken:\", username, password)\n        let userToken = 'Basic '  + window.btoa(username + \":\" + password);\n        sessionStorage.setItem('authenticatedUser', username )\n        return userToken\n    }\n\n    logout() {\n        sessionStorage.removeItem('authenticatedUser');\n    }\n\n    isUserLoggedIn() {\n        let user = sessionStorage.getItem('authenticatedUser');\n        if (user === null) return false\n        return true\n    }\n\n    setupAxiosInterceptors(userToken) {\n        http.interceptors.request.use(\n            (config) => {\n                if (this.isUserLoggedIn()) {\n                    config.headers.Authorization = userToken\n                    console.log(\"Interceptor is called:\", sessionStorage.getItem('authenticatedUser'))\n                }\n                return config\n            }\n        )\n    }\n}\n\nexport default new AuthenticationService();"]}]}