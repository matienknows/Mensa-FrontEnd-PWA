{"remainingRequest":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/babel-loader/lib/index.js!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/src/components/MealComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/src/components/MealComponent.vue","mtime":1606480315688},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Matien/Documents/Uni/Bachelorarbeit/Prototypen/RWA/frontend/Mensa-FrontEnd-PWA/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTWVhbERhdGFTZXJ2aWNlIGZyb20gIkAvc2VydmljZS9NZWFsRGF0YVNlcnZpY2UiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IFNlYXJjaEJveENvbXBvbmVudCBmcm9tICJAL2NvbXBvbmVudHMvU2VhcmNoQm94Q29tcG9uZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNZWFsQ29tcG9uZW50IiwKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hCb3hDb21wb25lbnQ6IFNlYXJjaEJveENvbXBvbmVudAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lYWxzOiBbXSwKICAgICAgc2VsZWN0ZWRNZWFsOiB7CiAgICAgICAgbWVhbElkOiAnJwogICAgICB9LAogICAgICBhbGVydEZhaWxlZDogJ1RoZSByZW1vdmFsIGZhaWxlZC4nLAogICAgICBhbGVydFN1Y2NlczogJ1RoZSByZW1vdmFsIHdhcyBzdWNjZXNmdWxseSBwcm9jZXNzZWQuJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhpZGVNb2RhbDogZnVuY3Rpb24gaGlkZU1vZGFsKCkgewogICAgICB0aGlzLiRyZWZzWydkZWxldGUtbW9kYWwnXS5oaWRlKCk7CiAgICB9LAogICAgcmVmcmVzaE1lYWw6IGZ1bmN0aW9uIHJlZnJlc2hNZWFsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgTWVhbERhdGFTZXJ2aWNlLnJldHJpZXZlQWxsTWVhbHMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLm1lYWxzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoRmlsdGVyOiBmdW5jdGlvbiBzZWFyY2hGaWx0ZXIoKSB7CiAgICAgIHZhciBpbnB1dCwgZmlsdGVyLCB0YWJsZSwgdHIsIHRkLCBpLCBzZWFyY2hUZXh0OwogICAgICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpOwogICAgICBmaWx0ZXIgPSBpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpOwogICAgICB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZWFsLWxpc3QiKTsKICAgICAgdHIgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidHIiKTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCB0ci5sZW5ndGg7IGkrKykgewogICAgICAgIHRkID0gdHJbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIilbMl07CgogICAgICAgIGlmICh0ZCkgewogICAgICAgICAgc2VhcmNoVGV4dCA9IHRkLnRleHRDb250ZW50IHx8IHRkLmlubmVyVGV4dDsKCiAgICAgICAgICBpZiAoc2VhcmNoVGV4dC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7CiAgICAgICAgICAgIHRyW2ldLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRyW2ldLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVsZXRlTWVhbEJ5SWQ6IGZ1bmN0aW9uIGRlbGV0ZU1lYWxCeUlkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuaGlkZU1vZGFsKCk7CiAgICAgIE1lYWxEYXRhU2VydmljZS5kZWxldGVNZWFsQnlJZCh0aGlzLnNlbGVjdGVkTWVhbC5tZWFsSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGVydC1mYWlsZWQiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGVydC1zdWNjZXMiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgICAgX3RoaXMyLnJlZnJlc2hNZWFsKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxlcnQtc3VjY2VzIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxlcnQtZmFpbGVkIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdFRvVXBkYXRlOiBmdW5jdGlvbiBzZWxlY3RUb1VwZGF0ZShtZWFsSWQpIHsKICAgICAgdmFyIGlkID0gbWVhbElkOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ01lYWxVcGRhdGVDb21wb25lbnQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkTWVhbEluZm86IGZ1bmN0aW9uIGxvYWRNZWFsSW5mbyhtZWFsSWQpIHsKICAgICAgdGhpcy5zZWxlY3RlZE1lYWwubWVhbElkID0gbWVhbElkOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNoZWNrVXNlcjogZnVuY3Rpb24gY2hlY2tVc2VyKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlclN0YXR1cyA9PSAnYWRtaW4nKSB7CiAgICAgICAgcmV0dXJuICdhZG1pbic7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlZnJlc2hNZWFsKCk7CiAgfQp9Ow=="},{"version":3,"sources":["MealComponent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section class=\"meal-list\">\n    <div class=\"container\">\n      <h1 class=\"page-title\">Meal Table</h1>\n      <div class=\"alert alert-success hide text-center\" id=\"alert-succes\" role=\"alert\">{{ alertSucces }}</div>\n      <div class=\"alert alert-danger hide text-center\" id=\"alert-failed\" role=\"alert\">{{ alertFailed }}</div>\n      <router-link v-if=\"checkUser == 'admin'\" type=\"button\" class=\"btn btn-outline-warning col-lg-3 col-sm-6 add-button\" variant=\"outline-warning\"\n                   to=\"/meal/add\">\n        <img class=\"trash-can\" src=\"../../src/assets/images/plus.svg\" alt=\"trash can\">\n      </router-link>\n      <SearchBoxComponent></SearchBoxComponent>\n      <div class=\"table-responsive meal-list\">\n        <table id=\"meal-list\" class=\"table table-hover\">\n          <thead>\n          <tr>\n            <th v-if=\"checkUser == 'admin'\">Actions</th>\n            <th>ID</th>\n            <th>Meal</th>\n            <th>Type</th>\n            <th>Price ($)</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr class=\"mealDetails\" v-for=\"meal in meals\" v-bind:key=\"meal.id\">\n            <td v-if=\"checkUser == 'admin'\">\n              <div>\n                <b-button class=\"delete-button\" variant=\"outline-info\"\n                          @click=\"selectToUpdate(meal.id)\"\n                          v-b-modal.delete-modal>\n                  <img src=\"../../src/assets/images/pen.svg\" alt=\"trash can\">\n                </b-button>\n                <b-button class=\"update-button\" variant=\"outline-danger\"\n                          @click=\"loadMealInfo(meal.id)\"\n                          v-b-modal.delete-modal>\n                  <img src=\"../../src/assets/images/trash-can.svg\" alt=\"trash can\">\n                </b-button>\n              </div>\n            </td>\n            <td class=\"id\">{{ meal.id }}</td>\n            <td>{{ meal.name }}</td>\n            <td>{{ meal.type }}</td>\n            <td>{{ meal.price }}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n      <!-- Modal -->\n      <b-modal id=\"delete-modal\" ref=\"delete-modal\" hide-footer title=\"Removal of a meal\">\n        <p class=\"my-4\">Are you want to delete the selected meal?</p>\n        <p class=\"my-4\">Warning: This action will delete all days in the meal tables, which contain this meal.</p>\n        <b-button class=\"modal-button\" variant=\"outline-danger\" block @click=\"hideModal\">Cancel</b-button>\n        <b-button class=\"modal-button\" variant=\"outline-info\" block @click=\"deleteMealById\">\n          Yes,\n          sure.\n        </b-button>\n      </b-modal>\n    </div>\n  </section>\n</template>\n\n<script>\nimport MealDataService from \"@/service/MealDataService\";\nimport router from \"@/router\";\nimport SearchBoxComponent from \"@/components/SearchBoxComponent\";\n\nexport default {\n  name: \"MealComponent\",\n  components: {SearchBoxComponent},\n  data() {\n    return {\n      meals: [],\n      selectedMeal: {\n        mealId: '',\n      },\n      alertFailed: 'The removal failed.',\n      alertSucces: 'The removal was succesfully processed.',\n\n    };\n  },\n  methods: {\n    hideModal() {\n      this.$refs['delete-modal'].hide()\n    },\n    refreshMeal() {\n      MealDataService.retrieveAllMeals()\n          .then(response => {\n            this.meals = response.data;\n          });\n    },\n    searchFilter() {\n      var input, filter, table, tr, td, i, searchText;\n\n      input = document.getElementById(\"searchInput\");\n      filter = input.value.toUpperCase();\n      table = document.getElementById(\"meal-list\");\n      tr = table.getElementsByTagName(\"tr\");\n\n      for (i = 0; i < tr.length; i++) {\n        td = tr[i].getElementsByTagName(\"td\")[2];\n        if (td) {\n          searchText = td.textContent || td.innerText;\n          if (searchText.toUpperCase().indexOf(filter) > -1) {\n            tr[i].style.display = \"\";\n          } else {\n            tr[i].style.display = \"none\";\n          }\n        }\n      }\n    },\n    deleteMealById() {\n      this.hideModal()\n      MealDataService.deleteMealById(this.selectedMeal.mealId)\n          .then(response => {\n            console.log(response)\n            document.getElementById(\"alert-failed\").style.display = \"none\"\n            document.getElementById(\"alert-succes\").style.display = \"block\"\n            this.refreshMeal()\n          })\n          .catch(error => {\n            console.log(error)\n            document.getElementById(\"alert-succes\").style.display = \"none\"\n            document.getElementById(\"alert-failed\").style.display = \"block\"\n          })\n    },\n    selectToUpdate(mealId) {\n      var id = mealId\n      router.push({name: 'MealUpdateComponent', params: {id}})\n    },\n    loadMealInfo(mealId) {\n      this.selectedMeal.mealId = mealId;\n    },\n  },\n\n  computed: {\n    checkUser: function () {\n      if (this.$store.state.userStatus == 'admin') {\n        return 'admin';\n      }\n      return false;\n    }\n  },\n  created() {\n    this.refreshMeal();\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\nthead {\n  background: rgb(219, 3, 123);\n  background: linear-gradient(16deg, rgba(219, 3, 123, 1) 0%, rgba(219, 3, 218, 1) 81%);\n  color: white;\n}\n\n.page-title {\n  margin: 35px 0 35px 0;\n  text-align: center;\n  color: #DB037B;\n}\n\n.selected {\n  background-color: grey;\n  text-decoration-color: white;\n}\n\n.add-button {\n  margin: 20px 0;\n}\n\n#alert-failed {\n  margin: 30px 0px 30px 0px;\n  display: none;\n}\n\n#alert-succes {\n  margin: 30px 0px 30px 0px;\n  display: none;\n}\n\n.delete-button, .update-button {\n  margin: 5px;\n}\n\n</style>"],"sourceRoot":"src/components"}]}